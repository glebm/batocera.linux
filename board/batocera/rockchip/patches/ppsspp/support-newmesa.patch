--- a/Common/GPU/OpenGL/GLFeatures.cpp
+++ b/Common/GPU/OpenGL/GLFeatures.cpp
@@ -1,3 +1,7 @@
+// This define is used in mesa and other GL implementations to exlcude X11 headers.
+#define MESA_EGL_NO_X11_HEADERS 1
+#define EGL_NO_X11 1
+
 #include "ppsspp_config.h"
 
 #include <cstring>

--- a/Common/GPU/OpenGL/gl3stub.c
+++ b/Common/GPU/OpenGL/gl3stub.c
@@ -14,6 +14,10 @@
  * limitations under the License.
  */
 
+// This define is used in mesa and other GL implementations to exlcude X11 headers.
+#define MESA_EGL_NO_X11_HEADERS 1
+#define EGL_NO_X11 1
+
 #include "ppsspp_config.h"
 
 #include "Common/GPU/OpenGL/GLCommon.h"
